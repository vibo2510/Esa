<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:h="http://xmlns.jcp.org/jsf/html">
    <body>
        <f:view contracts="#{view.locale.language}">
            <ui:composition template="/template.xhtml">
                <ui:define name="content">
                
                    <h:form id="myForm" >
                        <p:commandButton value="#{msg['singleClub.button']}" update=":form:dataPartici" action="#{singleClubController.enroleToClub()}" style="float: right; width: 200px; height: 50px; margin-top: 15px" disabled="#{singleClubController.isEnroleable}" widgetVar="enroleButton"
                                         onclick="PF('enroleButton').disable()"  />
                    </h:form>
                   
                    <h:graphicImage value="resources/img/#{singleClubController.title}.png" style="width: 30%"/>
                    <h1> #{singleClubController.title} </h1>
                    <div style="width: 50%; float: left;">
                        <h2>#{msg['singleClub.description']}</h2>
                        <p style="width: 80%;">#{singleClubController.description}</p>
                    </div>
                    <div style="width: 50%; float: left;">
                        <h2>#{msg['singleClub.dates']}</h2>
                        <p>#{singleClubController.day}</p>
                        <p>#{singleClubController.startTime} Uhr bis #{singleClubController.endTime} Uhr</p>
                    </div>
                    <h:form id="form" >
                        <h2>#{msg['singleClub.tableName']}</h2>
                        <p:dataTable id="dataPartici" value="#{singleClubController.participants}"
						var="participant" >
                            <p:column>
				<f:facet name="header">
					#{msg['listParticipant.name']}
				</f:facet>
                                <h:outputText value="#{participant.firstname}" />
                            </p:column>
                            <p:column>
				<f:facet name="header">
					#{msg['listParticipant.lastName']}
				</f:facet>
                                <h:outputText value="#{participant.lastname}" />
                            </p:column>
                            <p:column>
				<f:facet name="header">
					#{msg['listParticipant.email']}
				</f:facet>
                                <h:outputText value="#{participant.email}" />
                            </p:column>
                        </p:dataTable>
                    </h:form>
                </ui:define>
            </ui:composition>
        </f:view>
    </body>
</html> 